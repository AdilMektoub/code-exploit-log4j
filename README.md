# Code-exploit-log4j

This Repository help for beginner the code of attack with vulnerabilty of log4j

# Explain the context:
===
Log4j is a library developed by Apache to manage application logs

Log4jshell is the vulnerability
Apache release a first patch on december 10th but it doesn't work 2.15.2 so they release a new one 2.16.2

The version 2.12.2 doesn't have this vulnerable class so it is spared

2 vulnerabilities discovered 44228 (+++), 45046 and December 17 45105

44228 is the most critical flaw:
Remote code execution so upload ransamware, cryptomancer, bots, etc...
There is a JNDI search function ("formatMsgNOLookups") that allows to use NETWORK PROTOCOLS (LDAP, RMI, DNS, IIOP) to upload data to the outside and execute them on the server. The problem is that no control is done on the data coming from the outside so it can inject remote code REVERSE SHELL

To test if we were attacked go:
   exploit-db.com

To counter:
  - JAVA 8
    Update to version 2.16.2 log4j
- JAVA (9, 10, 11, etc...)
    Downgrade to version 2.2.12 log4j
    Or Disable the search function (the formatMsgNOLookups class)
       JNDI (java class) in hand
- JAVA 7
     Update to version 2.2.12 but log4j has not yet been developed so you have to wait
BUT DECEMBER 17 new patch 2.17.2
(Fault 45105) Because delete service (extinguish server) on all versions before 2.2.17
So you have to change in patternLayout the function of formatMsgNOLookups to context Lookups like

Fault 45046 less serious
Can just turn off/down the servers (turn off service)
BUT December 17 we realize
that you can RUN CODE REMOTELY on MAC OS
and steal data

## Conclusion
JAVA7 update to 2.12.2
JAVA8+ UPDATE TO 2.17.0
For commercial apps DISABLE JNDI
Because Apache does not give patch
So for the apps you just have to download the tar.gz on the site with the new version 2.17.2 java8 and 2.12.2 java7

# Get Started

Machin
You need 3 servers:
    1 install repo and launch request http
    2 install java
    3 install LDAP
